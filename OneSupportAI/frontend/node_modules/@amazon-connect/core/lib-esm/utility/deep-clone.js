import { ConnectError } from "../error";
export function deepClone(object) {
    try {
        return structuredClone(object);
    }
    catch (_a) {
        try {
            // Falls back to JSON parse/stringify if structureClone does not exist
            return JSON.parse(JSON.stringify(object));
        }
        catch (cloneError) {
            throw new ConnectError({
                errorKey: "deepCloneFailed",
                details: {
                    actualError: cloneError,
                },
            });
        }
    }
}
//# sourceMappingURL=deep-clone.js.map