"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.deepClone = deepClone;
const error_1 = require("../error");
function deepClone(object) {
    try {
        return structuredClone(object);
    }
    catch (_a) {
        try {
            // Falls back to JSON parse/stringify if structureClone does not exist
            return JSON.parse(JSON.stringify(object));
        }
        catch (cloneError) {
            throw new error_1.ConnectError({
                errorKey: "deepCloneFailed",
                details: {
                    actualError: cloneError,
                },
            });
        }
    }
}
//# sourceMappingURL=deep-clone.js.map