"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createLogMessage = createLogMessage;
const sanitize_data_1 = require("./sanitize-data");
function createLogMessage({ level, source, message, loggerId, data }, context, messageOrigin) {
    // Sanitize guards against a caller provided data object containing a
    // non-cloneable object which will fail if sent through a message channel
    const sanitizedData = (0, sanitize_data_1.sanitizeData)(data);
    return {
        type: "log",
        level,
        time: new Date(),
        source,
        message,
        loggerId,
        data: sanitizedData,
        context,
        messageOrigin,
    };
}
//# sourceMappingURL=log-message-factory.js.map